(function(){var c;(c=jQuery).fn.flexNav=function(t){var n,e,i,s,a,o,l,h,r,u,d;return h=c.extend({animationSpeed:250,transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!1,hover:!0},t),(n=c(this)).addClass("with-js"),!0===h.transitionOpacity&&n.addClass("opacity"),n.find("li").each(function(){return c(this).has("ul").length?c(this).addClass("item-with-ul").find("ul").hide():void 0}),!0===h.calcItemWidths&&(s=(e=n.find(">li")).length,a=100/s+"%"),n.data("breakpoint")&&(i=n.data("breakpoint")),r=function(){return!0===n.hasClass("lg-screen")&&!0===h.hover?!0===h.transitionOpacity?c(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},h.animationSpeed):c(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},h.animationSpeed):void 0},o=function(){return!0===n.hasClass("lg-screen")&&!0===c(this).find(">ul").hasClass("flexnav-show")&&!0===h.hover?!0===h.transitionOpacity?c(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},h.animationSpeed):c(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},h.animationSpeed):void 0},l=function(){var t;if(c(window).width()<=i)return n.removeClass("lg-screen").addClass("sm-screen"),!0===h.calcItemWidths&&e.css("width","100%"),t=h.buttonSelector+", "+h.buttonSelector+" .touch-button",c(t).removeClass("active"),c(".one-page li a").on("click",function(){return n.removeClass("flexnav-show")});if(c(window).width()>i){if(n.removeClass("sm-screen").addClass("lg-screen"),!0===h.calcItemWidths&&e.css("width",a),n.removeClass("flexnav-show").find(".item-with-ul").on(),c(".item-with-ul").find("ul").removeClass("flexnav-show"),o(),!0===h.hoverIntent)return c(".item-with-ul").hoverIntent({over:r,out:o,timeout:h.hoverIntentTimeout});if(!1===h.hoverIntent)return c(".item-with-ul").on("mouseenter",r).on("mouseleave",o)}},c(h.buttonSelector).data("navEl",n),d=".item-with-ul, "+h.buttonSelector,c(d).append('<span class="touch-button"><i class="navicon"></i></span>'),u=h.buttonSelector+", "+h.buttonSelector+" .touch-button",c(u).on("click",function(t){var e;return c(u).toggleClass("active"),t.preventDefault(),t.stopPropagation(),e=h.buttonSelector,(c(this).is(e)?c(this):c(this).parent(e)).data("navEl").toggleClass("flexnav-show")}),c(".touch-button").on("click",function(){var t,e;return t=c(this).parent(".item-with-ul").find(">ul"),e=c(this).parent(".item-with-ul").find(">span.touch-button"),!0===n.hasClass("lg-screen")&&c(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),!0===t.hasClass("flexnav-show")?(t.removeClass("flexnav-show").slideUp(h.animationSpeed),e.removeClass("active")):!1===t.hasClass("flexnav-show")?(t.addClass("flexnav-show").slideDown(h.animationSpeed),e.addClass("active")):void 0}),n.find(".item-with-ul *").focus(function(){return c(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),c(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),l(),c(window).on("resize",l)}}).call(this);